<!DOCTYPE html>
<html>
    <head>
       <title>Hexagons</title>

    </head>
<body>
   <h1>Hexagons</h1>
        <p>Welcome to the hive</p>
<svg width="26cm" height="15cm" viewBox="0 0 2400 1600"
     xmlns="http://www.w3.org/2000/svg" version="1.1">
    <g id="AllHexagons" onclick="Hex_Click(evt)">
        
    </g>
    
</svg>  
<style type="text/css">
    
</style>



    
    
<script src="https://d3js.org/d3.v4.min.js" charset="utf-8"></script>
<script src="https://d3js.org/d3-polygon.v1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.2/TweenMax.min.js"></script>
<script >
   /*global d3*/
   /*global TweenLite*/
    /*global TweenMax*/
    var svgns = "http://www.w3.org/2000/svg";
   var HexRadius = 180;
   var Yalign = Math.sin(Math.PI/180*30);
   var Xalign =Math.cos(Math.PI/180*30); 
   var Yalign90 = Math.sin(Math.PI/180*60);
   var Xalign90 = Math.cos(Math.PI/180*60);
   var Hexagons=[];
   var HexShapes=[];
   var MiddlePoint ={"x":1200,"y":800};
   var Tier1MidPoints=BuildMiddlePntsTier1(1200,800,HexRadius*Xalign*2);
   var Tier2MidPoints=BuildMiddlePntsTier2(1200,800,HexRadius*Xalign*4);
   var Tier3MidPoints=BuildMiddlePntsTier3(1200,800,HexRadius*Xalign*6);
   var MyTween;
   // Hexagons.push(BuildHex(1200,800));
   //var D3svgs = document.getElementsByTagName("svg");
   
   var D3Nodes=document.getElementsByTagName("g");
   var i;
   
   
   
   for(i=0;i<19;i++)
   {
    HexShapes.push(document.createElementNS(svgns,"polygon"));
   
   //figure out which tier your on
   //find the middle point for the next Hexagon
   if(i==0)
   {
       MiddlePoint.x=1200;
       MiddlePoint.y=800;
   }
   else if(i>0&&i<=6)
   {
       MiddlePoint.x=Tier1MidPoints[i-1][0];
       MiddlePoint.y=Tier1MidPoints[i-1][1];
   }
   else if(i>6&&i<=18)
   {
       MiddlePoint.x=Tier2MidPoints[i-7][0];
       MiddlePoint.y=Tier2MidPoints[i-7][1];
   }
   else if(i>18&&i<=36)
   {
       MiddlePoint.x=Tier3MidPoints[i-19][0];
       MiddlePoint.y=Tier3MidPoints[i-19][1];
   }
   //use the middle point to create the next hexagon
   Hexagons.push(BuildHex(MiddlePoint.x,MiddlePoint.y,HexRadius));
   HexShapes[i].setAttribute("points",Hexagons[i].join(" "));
   HexShapes[i].setAttribute("fill","orange");    
   HexShapes[i].setAttribute("id","poly" + i);
   HexShapes[i].setAttribute("stroke-width","8px");
   HexShapes[i].setAttribute("stroke","blue");
   
   D3Nodes[0].appendChild(HexShapes[i]);
   }
 //yuck ugly code
  
  
  
   //HexShapes.push(document.createElementNS(svgns,"polygon"));
   //HexShapes[1].setAttribute("points",Hexagons[1].join(" "));
   //HexShapes[1].setAttribute("fill","orange");    
   //HexShapes[1].setAttribute("id","poly1");
   //HexShapes[1].setAttribute("stroke-width","8px");
   //HexShapes[1].setAttribute("stroke","blue");
     
    //D3Nodes[0].appendChild(HexShapes[1]);     
  //      .transition()
//      .duration(function(d,i){return 800;})
//      .delay(function(d,i) {  return 100*i;})
//      .attr("transform",  function(d,i){return "translate("+BuildHoneyComb(i)+")";});
      
  
    
   // var D3text=D3Nodes.selectAll("text")
//       .data([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18])
//       .enter()
//       .append("text")
//       .attr("id",function(d,i){return "text" + i;})
//       .attr("x",function(d,i){ return 1200+Math.round(BuildHoneyComb(i).split(",")[0]);})
//       .attr("y",function(d,i){return 800+Math.round(BuildHoneyComb(i).split(",")[1]);})
//       .attr("font-family", "sans-serif")
//       .attr("font-size", "80px")
//       .attr("text-anchor","middle")
//       .attr("fill", "black")
//       .attr("visibility","hidden")
//       .text(function(d,i){return i;});
    
   
  
   
  
    
    window.onload = function(){
//       var TurnOnNumbers=setTimeout(function(){ D3text.style("visibility","visible"); }, 2500);    
    }
        
    
       
      
   
   
   
   //the middle points of the next tier form a hexagon rotated 90
   function BuildMiddlePntsTier1(MidX,MidY,HexRadius)
   {
     var MidPoint ={"x":MidX,"y":MidY};
     var Pnt1 = {"x":0,"y":0};
     var Pnt2 = {"x":0,"y":0};
     var Pnt3={"x":0,"y":0};
     var Pnt4={"x":0,"y":0};
     var Pnt5={"x":0,"y":0};
     var Pnt6={"x":0,"y":0};
     var AllPnts=[];
  
     Pnt1.x=MidPoint.x+Xalign90*HexRadius;
     Pnt1.y=MidPoint.y-Yalign90*HexRadius;
     
    
     Pnt2.x=MidPoint.x+HexRadius;
     Pnt2.y=MidPoint.y;
    
     Pnt3.x=MidPoint.x+Xalign90*HexRadius;
     Pnt3.y=MidPoint.y+Yalign90*HexRadius;
    
     Pnt4.x=MidPoint.x-Xalign90*HexRadius;
     Pnt4.y=MidPoint.y+Yalign90*HexRadius;
    
     Pnt5.x=MidPoint.x-HexRadius;
     Pnt5.y=MidPoint.y;
     
     Pnt6.x=MidPoint.x-Xalign90*HexRadius;
     Pnt6.y=MidPoint.y-Yalign90*HexRadius;
    
    return [[Pnt1.x,Pnt1.y],[Pnt2.x,Pnt2.y],[Pnt3.x,Pnt3.y],[Pnt4.x,Pnt4.y],[Pnt5.x,Pnt5.y],[Pnt6.x,Pnt6.y]];   
   }
   
   //the middle points of the next tier form a hexagon rotated 90
   function BuildMiddlePntsTier2(MidX,MidY,HexRadius)
   {
     var MidPoint ={"x":MidX,"y":MidY};
     var Pnt1 = {"x":0,"y":0};
     var Pnt2 = {"x":0,"y":0};
     var Pnt3={"x":0,"y":0};
     var Pnt4={"x":0,"y":0};
     var Pnt5={"x":0,"y":0};
     var Pnt6={"x":0,"y":0};
     var Pnt7={"x":0,"y":0};
     var Pnt8={"x":0,"y":0};
     var Pnt9={"x":0,"y":0};
     var Pnt10={"x":0,"y":0};
     var Pnt11={"x":0,"y":0};
     var Pnt12={"x":0,"y":0};
     var AllPnts=[];
     
     Pnt1.x=MidPoint.x;
     Pnt1.y=MidPoint.y-Yalign90*HexRadius;
     
     Pnt2.x=MidPoint.x+Xalign90*HexRadius;
     Pnt2.y=MidPoint.y-Yalign90*HexRadius;
     
     Pnt3.x=MidPoint.x+Xalign90*HexRadius*1.5;
     Pnt3.y=MidPoint.y-Yalign90*HexRadius*.5;
     
     Pnt4.x=MidPoint.x+HexRadius;
     Pnt4.y=MidPoint.y;
     
     Pnt5.x=MidPoint.x+Xalign90*HexRadius*1.5
     Pnt5.y=MidPoint.y+Yalign90*HexRadius*.5;
     
     Pnt6.x=MidPoint.x+Xalign90*HexRadius;
     Pnt6.y=MidPoint.y+Yalign90*HexRadius;
     
     Pnt7.x=MidPoint.x;
     Pnt7.y=MidPoint.y+Yalign90*HexRadius;
    
     Pnt8.x=MidPoint.x-Xalign90*HexRadius;
     Pnt8.y=MidPoint.y+Yalign90*HexRadius;
    
     Pnt9.x=MidPoint.x-Xalign90*HexRadius*1.5;
     Pnt9.y=MidPoint.y+Yalign90*HexRadius*.5;
     
     Pnt10.x=MidPoint.x-HexRadius;
     Pnt10.y=MidPoint.y;
     
     Pnt11.x=MidPoint.x-Xalign90*HexRadius*1.5;
     Pnt11.y=MidPoint.y-Yalign90*HexRadius*.5;
     
     Pnt12.x=MidPoint.x-Xalign90*HexRadius;
     Pnt12.y=MidPoint.y-Yalign90*HexRadius;
    
     AllPnts.push([Pnt1.x,Pnt1.y]);
     AllPnts.push([Pnt2.x,Pnt2.y]);
     AllPnts.push([Pnt3.x,Pnt3.y]);
     AllPnts.push([Pnt4.x,Pnt4.y]);
     AllPnts.push([Pnt5.x,Pnt5.y]);
     AllPnts.push([Pnt6.x,Pnt6.y]);
     AllPnts.push([Pnt7.x,Pnt7.y]);
     AllPnts.push([Pnt8.x,Pnt8.y]);
     AllPnts.push([Pnt9.x,Pnt9.y]);
     AllPnts.push([Pnt10.x,Pnt10.y]);
     AllPnts.push([Pnt11.x,Pnt11.y]);
     AllPnts.push([Pnt12.x,Pnt12.y]);
     
     
    return AllPnts;
    
   }
   
   function BuildMiddlePntsTier3(MidX,MidY,HexRadius)
   {
     var MidPoint ={"x":MidX,"y":MidY};
     var Pnt1 = {"x":0,"y":0};
     var Pnt2 = {"x":0,"y":0};
     var Pnt3={"x":0,"y":0};
     var Pnt4={"x":0,"y":0};
     var Pnt5={"x":0,"y":0};
     var Pnt6={"x":0,"y":0};
     var Pnt7={"x":0,"y":0};
     var Pnt8={"x":0,"y":0};
     var Pnt9={"x":0,"y":0};
     var Pnt10={"x":0,"y":0};
     var Pnt11={"x":0,"y":0};
     var Pnt12={"x":0,"y":0};
     var AllPnts=[];
     
     Pnt1.x=MidPoint.x;
     Pnt1.y=MidPoint.y-Yalign90*HexRadius;
     
     Pnt2.x=MidPoint.x+Xalign90*HexRadius;
     Pnt2.y=MidPoint.y-Yalign90*HexRadius;
     
     Pnt3.x=MidPoint.x+Xalign90*HexRadius*1.5;
     Pnt3.y=MidPoint.y-Yalign90*HexRadius*.5;
     
     Pnt4.x=MidPoint.x+HexRadius;
     Pnt4.y=MidPoint.y;
     
     Pnt5.x=MidPoint.x+Xalign90*HexRadius*1.5
     Pnt5.y=MidPoint.y+Yalign90*HexRadius*.5;
     
     Pnt6.x=MidPoint.x+Xalign90*HexRadius;
     Pnt6.y=MidPoint.y+Yalign90*HexRadius;
     
     Pnt7.x=MidPoint.x;
     Pnt7.y=MidPoint.y+Yalign90*HexRadius;
    
     Pnt8.x=MidPoint.x-Xalign90*HexRadius;
     Pnt8.y=MidPoint.y+Yalign90*HexRadius;
    
     Pnt9.x=MidPoint.x-Xalign90*HexRadius*1.5;
     Pnt9.y=MidPoint.y+Yalign90*HexRadius*.5;
     
     Pnt10.x=MidPoint.x-HexRadius;
     Pnt10.y=MidPoint.y;
     
     Pnt11.x=MidPoint.x-Xalign90*HexRadius*1.5;
     Pnt11.y=MidPoint.y-Yalign90*HexRadius*.5;
     
     Pnt12.x=MidPoint.x-Xalign90*HexRadius;
     Pnt12.y=MidPoint.y-Yalign90*HexRadius;
    
     AllPnts.push([Pnt1.x,Pnt1.y]);
     AllPnts.push([Pnt2.x,Pnt2.y]);
     AllPnts.push([Pnt3.x,Pnt3.y]);
     AllPnts.push([Pnt4.x,Pnt4.y]);
     AllPnts.push([Pnt5.x,Pnt5.y]);
     AllPnts.push([Pnt6.x,Pnt6.y]);
     AllPnts.push([Pnt7.x,Pnt7.y]);
     AllPnts.push([Pnt8.x,Pnt8.y]);
     AllPnts.push([Pnt9.x,Pnt9.y]);
     AllPnts.push([Pnt10.x,Pnt10.y]);
     AllPnts.push([Pnt11.x,Pnt11.y]);
     AllPnts.push([Pnt12.x,Pnt12.y]);
     
     
    return AllPnts;
    
   }
   
   function BuildHex(MidX,MidY,HexRadius)
   {
    var MidPoint ={"x":MidX,"y":MidY};
    var Pnt1 = {"x":0,"y":0};
    var Pnt2 = {"x":0,"y":0};
    var Pnt3={"x":0,"y":0};
    var Pnt4={"x":0,"y":0};
    var Pnt5={"x":0,"y":0};
    var Pnt6={"x":0,"y":0};
    var AllPnts=[];
    
    
    
    Pnt1.x=MidPoint.x+Xalign*HexRadius;
    Pnt1.y=MidPoint.y-Yalign*HexRadius;
    
    Pnt2.x=MidPoint.x+Xalign*HexRadius;
    Pnt2.y=MidPoint.y+Yalign*HexRadius;
    
    
    Pnt3.x=MidPoint.x;
    Pnt3.y=MidPoint.y+HexRadius;
    
    Pnt4.x=MidPoint.x-Xalign*HexRadius;
    Pnt4.y=MidPoint.y+Yalign*HexRadius;
    
    Pnt5.x=MidPoint.x-Xalign*HexRadius;
    Pnt5.y=MidPoint.y-Yalign*HexRadius;
    
    Pnt6.x=MidPoint.x;
    Pnt6.y=MidPoint.y-HexRadius;
   
     AllPnts.push([Pnt1.x,Pnt1.y]);
     AllPnts.push([Pnt2.x,Pnt2.y]);
     AllPnts.push([Pnt3.x,Pnt3.y]);
     AllPnts.push([Pnt4.x,Pnt4.y]);
     AllPnts.push([Pnt5.x,Pnt5.y]);
     AllPnts.push([Pnt6.x,Pnt6.y]);
     
    return AllPnts;
   }
   
   function Hex_Click(evt)
   {
     var Hex= evt.target;
     
      
      var MyTween =TweenMax.to(Hex.parentNode ,3,{rotation:180,transformOrigin:"50% 50%",onComplete:myFunction});
      var MyTween1 =TweenMax.to(Hex ,1.5,{rotation:90,transformOrigin:"50% 50%",onComplete:myFunction1});
     function myFunction()
     {
        MyTween.reverse();
       
     }
     function myFunction1()
     {
      
        MyTween1.reverse();
     }
   }
   
   
</script>

</body>
</html>
